<!doctype html>
<html>

<head>
	<meta charset="utf-8">
	<title></title>
</head>

<body>
	<script language="javascript">
		date = new Date(Date.parse(prompt("hi kroner, type in a date in the form 'YYYY-MM-DD' and i will tell you the next 5 palindrome/ambigram combos")));

		count = 0;
		while(date){

			if(isPalindrome(date) && isAmbigram(date)) {
				count++;
				document.write('<p id="header">' + d = date.toLocaleDateString("en-US", { year: 'numeric' }) + '</p>');
			}
			if(count >= 5) break;

			var newDate = date.setDate(date.getDate() + 1);
   			date = new Date(newDate);
		}

		function isPalindrome(date) {
			d = date.toLocaleDateString("en-US", { year: 'numeric' }).replace(/-/g, "");
			for( var i = d.length; i > 0; i-- )
		    {
		        if( d[i] = d.charAt(d.length)-1 )
		        {
		        	alert("true p");
		            return true;
		        }else{
		            return false;
		        }
    		}
		}

		function isAmbigram(date) {
			d = date.toLocaleDateString("en-US", { year: 'numeric' }).replace(/-/g, "");
			for( var i = 0; i < d.length; i++ )
		    {
		    	if ( d.charAt(i) == "3" || d.charAt(i) == "4" || d.charAt(i) == "6" || d.charAt(i) == "7" || d.charAt(i) == "9")
		    		return false;
		    	else {
		    		lert("true a");
		    		return true;
		    	}
		    }
		}
	</script>
</body>
</html>